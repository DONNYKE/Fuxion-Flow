{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Link,useLocation,useNavigate}from'react-router-dom';import{Home as HomeIcon,Package,Users,Handshake,History,LogOut,Menu,X}from'lucide-react';import{supabase}from'../supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[isOpen,setIsOpen]=useState(false);const[user,setUser]=useState(null);const location=useLocation();const navigate=useNavigate();useEffect(()=>{const{data:authListener}=supabase.auth.onAuthStateChange((_event,session)=>{setUser((session===null||session===void 0?void 0:session.user)||null);});// Check initial session\nsupabase.auth.getSession().then(_ref=>{let{data:{session}}=_ref;setUser((session===null||session===void 0?void 0:session.user)||null);});return()=>{authListener.unsubscribe();};},[]);const handleLogout=async()=>{const{error}=await supabase.auth.signOut();if(error){console.error('Error logging out:',error.message);}else{navigate('/auth');}};const navItems=[{name:'Inicio',icon:HomeIcon,path:'/'},{name:'Inventario',icon:Package,path:'/inventory'},{name:'Clientes',icon:Users,path:'/customers'},{name:'Socios',icon:Handshake,path:'/partners'},{name:'Historial',icon:History,path:'/history'}];const isActive=path=>location.pathname===path;return/*#__PURE__*/_jsxs(motion.nav,{className:\"bg-white/90 backdrop-blur-xl border-b border-gray-200/50 shadow-sm sticky top-0 z-40\",initial:{y:-100},animate:{y:0},transition:{type:'spring',stiffness:100,damping:20},children:[/*#__PURE__*/_jsx(motion.div,{initial:{rotate:0},animate:{rotate:360},transition:{repeat:Infinity,duration:10,ease:'linear'}}),\"FuxionFlow\",/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:flex items-center gap-6\",children:[navItems.map(item=>/*#__PURE__*/_jsxs(Link,{to:item.path,className:`flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all duration-200 ${isActive(item.path)?'bg-blue-100 text-blue-700 shadow-sm':'text-gray-600 hover:bg-gray-100 hover:text-gray-800'}`,children:[/*#__PURE__*/_jsx(item.icon,{className:\"w-5 h-5\"}),item.name]},item.name)),user&&/*#__PURE__*/_jsxs(motion.button,{onClick:handleLogout,className:\"flex items-center gap-2 px-3 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-all duration-200\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-5 h-5\"}),\"Salir\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(motion.button,{onClick:()=>setIsOpen(!isOpen),className:\"p-2 rounded-lg text-gray-600 hover:bg-gray-100\",whileHover:{scale:1.1},whileTap:{scale:0.9},children:isOpen?/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"}):/*#__PURE__*/_jsx(Menu,{className:\"w-6 h-6\"})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:isOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},transition:{type:'spring',stiffness:100,damping:20},className:\"md:hidden bg-white/95 border-t border-gray-200/50 pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-3 pt-4\",children:[navItems.map(item=>/*#__PURE__*/_jsxs(Link,{to:item.path,onClick:()=>setIsOpen(false),className:`w-full text-center flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${isActive(item.path)?'bg-blue-100 text-blue-700 shadow-sm':'text-gray-600 hover:bg-gray-100 hover:text-gray-800'}`,children:[/*#__PURE__*/_jsx(item.icon,{className:\"w-5 h-5\"}),item.name]},item.name)),user&&/*#__PURE__*/_jsxs(motion.button,{onClick:handleLogout,className:\"w-full text-center flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-all duration-200\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-5 h-5\"}),\"Salir\"]})]})})})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Link","useLocation","useNavigate","Home","HomeIcon","Package","Users","Handshake","History","LogOut","Menu","X","supabase","jsx","_jsx","jsxs","_jsxs","Navbar","isOpen","setIsOpen","user","setUser","location","navigate","data","authListener","auth","onAuthStateChange","_event","session","getSession","then","_ref","unsubscribe","handleLogout","error","signOut","console","message","navItems","name","icon","path","isActive","pathname","nav","className","initial","y","animate","transition","type","stiffness","damping","children","div","rotate","repeat","Infinity","duration","ease","map","item","to","button","onClick","whileHover","scale","whileTap","opacity","height","exit"],"sources":["C:/Users/donny/Downloads/project (1)/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Home as HomeIcon,\r\n  Package,\r\n  Users,\r\n  Handshake,\r\n  History,\r\n  LogOut,\r\n  Menu,\r\n  X\r\n} from 'lucide-react';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nconst Navbar = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const { data: authListener } = supabase.auth.onAuthStateChange(\r\n      (_event, session) => {\r\n        setUser(session?.user || null);\r\n      }\r\n    );\r\n\r\n    // Check initial session\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setUser(session?.user || null);\r\n    });\r\n\r\n    return () => {\r\n      authListener.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    const { error } = await supabase.auth.signOut();\r\n    if (error) {\r\n      console.error('Error logging out:', error.message);\r\n    } else {\r\n      navigate('/auth');\r\n    }\r\n  };\r\n\r\n  const navItems = [\r\n    { name: 'Inicio', icon: HomeIcon, path: '/' },\r\n    { name: 'Inventario', icon: Package, path: '/inventory' },\r\n    { name: 'Clientes', icon: Users, path: '/customers' },\r\n    { name: 'Socios', icon: Handshake, path: '/partners' },\r\n    { name: 'Historial', icon: History, path: '/history' }\r\n  ];\r\n\r\n  const isActive = (path) => location.pathname === path;\r\n\r\n  return (\r\n    <motion.nav\r\n      className=\"bg-white/90 backdrop-blur-xl border-b border-gray-200/50 shadow-sm sticky top-0 z-40\"\r\n      initial={{ y: -100 }}\r\n      animate={{ y: 0 }}\r\n      transition={{ type: 'spring', stiffness: 100, damping: 20 }}\r\n    >\r\n      <motion.div\r\n        initial={{ rotate: 0 }}\r\n        animate={{ rotate: 360 }}\r\n        transition={{ repeat: Infinity, duration: 10, ease: 'linear' }}\r\n      ></motion.div>\r\n      FuxionFlow\r\n\r\n      {/* Desktop Navigation */}\r\n      <div className=\"hidden md:flex items-center gap-6\">\r\n        {navItems.map((item) => (\r\n          <Link\r\n            key={item.name}\r\n            to={item.path}\r\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n              isActive(item.path)\r\n                ? 'bg-blue-100 text-blue-700 shadow-sm'\r\n                : 'text-gray-600 hover:bg-gray-100 hover:text-gray-800'\r\n            }`}\r\n          >\r\n            <item.icon className=\"w-5 h-5\" />\r\n            {item.name}\r\n          </Link>\r\n        ))}\r\n        {user && (\r\n          <motion.button\r\n            onClick={handleLogout}\r\n            className=\"flex items-center gap-2 px-3 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-all duration-200\"\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <LogOut className=\"w-5 h-5\" />\r\n            Salir\r\n          </motion.button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mobile Menu Button */}\r\n      <div className=\"md:hidden\">\r\n        <motion.button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className=\"p-2 rounded-lg text-gray-600 hover:bg-gray-100\"\r\n          whileHover={{ scale: 1.1 }}\r\n          whileTap={{ scale: 0.9 }}\r\n        >\r\n          {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n        </motion.button>\r\n      </div>\r\n\r\n      {/* Mobile Menu */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ type: 'spring', stiffness: 100, damping: 20 }}\r\n            className=\"md:hidden bg-white/95 border-t border-gray-200/50 pb-4\"\r\n          >\r\n            <div className=\"flex flex-col items-center gap-3 pt-4\">\r\n              {navItems.map((item) => (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.path}\r\n                  onClick={() => setIsOpen(false)}\r\n                  className={`w-full text-center flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n                    isActive(item.path)\r\n                      ? 'bg-blue-100 text-blue-700 shadow-sm'\r\n                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-800'\r\n                  }`}\r\n                >\r\n                  <item.icon className=\"w-5 h-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              ))}\r\n              {user && (\r\n                <motion.button\r\n                  onClick={handleLogout}\r\n                  className=\"w-full text-center flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-all duration-200\"\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.95 }}\r\n                >\r\n                  <LogOut className=\"w-5 h-5\" />\r\n                  Salir\r\n                </motion.button>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}